<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <title>Document</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>

<body>
    <article>
        <h1>유효성 검사</h1>
        <div>
            <form name="join">
                <p><input type="text" name="id" placeholder="아이디"></p>
                <p><input type="password" name="pw" placeholder="패스워드"></p>
                <p><input type="text" name="email" placeholder="이메일"></p>
                <p><input type="text" name="phone" placeholder="전화번호"></p>
                <p><input type="submit" value="저장"></p>
            </form>
        </div>
    </article>
  <script>
var userIdCheck = /^[A-Za-z0-9_\-]{5,20}$/;
var passwdCheck = /^(?=.*[a-z]|[A-Z])(?=.*[0-9])(?=.*[!@#$%^*()\-_=+\\\|\[\]{};:\'",.<>\/?]).{8,16}$/;
var emailCheck =/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/;
var phonNumberCheck = /^01[0179][0-9]{7,8}$/;

 //console.log(userIdCheck.test('maldives0c'))

 $('input[type=submit]').on('click',funCheck);
 function funCheck(e){
     e.preventDefault();
     //submit이 다음 페이지로 이동하려는 것을 막기
var id = $('input[name=id]').val();
var pw = $('input[name=pw]').val();
var email = $('input[name=email]').val();
var phone = $('input[name=phone]').val();
  
   if(!userIdCheck.test(id)){
       //값이 잘 들어오지 않았을 때-false일 때
       feedback('id input error','id');
       return;
       //false 시 아래 구분이 실행되지 않도록 한다
   }
   if(!passwdCheck.test(pw)){
      feedback('pw input error','pw');
      return;
   }
   if(!emailCheck.test(email)){
      feedback('email input error','email');
      return;
   }
   if(!phonNumberCheck.test(phone)){
      feedback('phone input error','phone');
     
   }
  function feedback(msg,el){
    alert(msg);
       $('input[name='+el+']').val('');
       $('input[name='+el+']').focus();
      
  }
  join.action = "http://naver.com";
  join.submit();
 }
  </script>
 
</body>

</html>