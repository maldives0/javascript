<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <title>Document</title>
    <script src="js/basic.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>

<body>
    <script>

        $(function () {

            $('figure').not(':first').hide();

            var idx = 0;
            var loop;
            $('button').on('click', cBtn);
            //btn 
            function cBtn() {
                if ($(this).index() == 0) {
                    fade('prev');
                } else {
                    fade('next');
                }
            }
            //slide
            function fade(p) {
                $('figure').eq(idx).fadeOut(1000);
                 (p == 'next') ?  idx++ :  idx--;
                  
                   
                    update();
                    $('figure').eq(idx).fadeIn(1000);
               
            }


            
            //idx limit
            function update() {
                var len = $('figure').length;
                if (idx >= len)idx = 0
                if(idx == -1) idx=len-1;
                console.log(idx)
                    
                } 
            

            


            //loop stop
            function clearFun() {
                clearInterval(loop);
            };
            //loop keep going
            function interFun() {
                loop = setInterval(fade, 2000);
            };
            interFun();
            //mouse acting
            $('.fade div, button').on(
                {
                    mouseenter: clearFun,
                    mouseleave: interFun
                }
            );


        });

    </script>
    <style>
        * {
            text-align: center;
        }

        .fade div {
            position: relative;
            width: 300px;
            margin: 0 auto;

        }

        figure {
            position: absolute;
            left: 0;
            top: 0;
        }

        img {
            width: 300px;
        }
    </style>
    <div class="fade">
        <p>
            <button>prev</button>
            <button>next</button>
        </p>
        <div>
            <figure>
                <img src="../img/p02-01-15.jpg">
            </figure>
            <figure>
                <img src="../img/p02-01-14.jpg">
            </figure>
            <figure>
                <img src="../img/p02-01-13.jpg">
            </figure>
        </div>
    </div>



</body>

</html>