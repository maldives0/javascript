    <!doctype>
<html>
<body>
    <style>
        html,body{margin:0;}
        canvas{border:1px solid #f00}
    </style>
    
    
    <canvas width="1000" height="800"></canvas>
    
    <script>
        var canvas = document.querySelector('canvas'),
            ctx = canvas.getContext('2d'),
            cw = canvas.width,
            ch = canvas.height,
            x = Math.floor(Math.random()*cw),
            y = Math.floor(Math.random()*ch),
            direction = Math.floor(Math.random()*Math.PI*2),
            r = 100,
            dx = 4,
            dy=2;
           
        
            function drawCircle(){
                ctx.beginPath();
                ctx.clearRect(0,0,cw,ch);
                ctx.arc(x,y,r,0,2*Math.PI);
                ctx.fill();
            }
        
            function update(){
                drawCircle();
                x += dx;
                y += dy;
                if(x+r > cw || x-r < 0){dx *= -1;}  //dx = dx * -1;
                if(y+r > ch || y-r < 0){dy *= -1;}
                console.log(dx)
                requestAnimationFrame(update);
            }
            update();
                
            
        
        
     
        
       
        
        
        
    
    </script>
    
    
    
</body>
</html>